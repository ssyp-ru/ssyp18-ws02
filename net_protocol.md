# Протокол работы по сети.

1. Клиент подключается к серверу.
Сервер шлёт клиенту пинг - пустое сообщение с типом 0.
Клиент в ответ шлёт серверу сообщение с именем игрока.
Сервер в ответ шлёт клиенту либо сообщение об отключении,
	либо шлёт пакет с данными об актёре игрока.

2. Цикл игры.
Сервер периодически шлёт клиентам обновления с содержанием:
- Видимый мир.
- Состояние всех видимых фич.
- Состояние всех видимых актёров.

Клиент отправляет серверу периодические сообщения о том, какие действия
совершает пользователь.

3. Отключение клиента от сервера


Виды сообщений:
- Запрос на подключение
Сообщение от клиента, содержащее имя игрока и магическую строчку.
- Ответ на подключение
Реакция сервера на предыдущее сообщение, содержащее информацию об актёре игрока.
- Текстовое сообщение
Базовый вид сообщений, 1:1 отражающий то, что говорит персонаж в случае клиента
и то, что нужно отобразить в лог в случае сервера.
- Обновление карты
Каждый тик отсылаемое сообщение, содержащее в себе обновление карты - позиция,
размеры и массив тайлов.
- Обновление фичи/актёра/предмета/любого другого объекта
Всякий объект имеет свой уникальный ID. Соответственно, ссылки на другие объекты
конвертируются в ID для структуры-контейнера.
- Команда от игрока
Содержит в себе: номер приказа (в соответствии с `enum ORDERS`), тип цели
(в соответствии с `enum TARGETS`) и флаг перезаписи очереди.